---
title: "운영체제 3주차"
subtitle: "Operating-System Structure"
layout: post
author: "Gihoon"
date: 2023-02-12 12:00:01
header-style: text
hidden: true
tags:
  - 운영체제
---
## OS services
**운영체제는 이런 서비스를 제공해야 하는지 생각하며 개발자 관점에서 공부하기**  
프로그래머의 편리성을 위해 제공되는 서비스   
- user interface : user, program에게 실행과정, 걀과를 알려주어야 함.
ex)LI, 6UI, Touch0screen, batch
- program excation(프로그램 실행)
- I/o operation(입출력 수행)
- file system manipulation(파일시스템 조작)
- communications(통신)
- error detections(오류 검출)

시스템의 효율적 운영을 위해 제공되는 서비스  
- resource allocation(자원 할당)
- logging(회계)
- protection and security(보호)

## Interface-CLI
ex) command 창, DOS prompt 창
CLI or command line interpreter allows direct command entry
- Sometimes implemented in kernel.
- Sometimes by systems program(하나의 특수한 프로그램처럼)
- Sometimes multiple flavors implemented – shells, bourne shell, C shell,  Korn shell  
shell : 내부에 있는 커널을 밖으로 꺼내 사용할 수 있도록 해준다.  
shell script : 각 shell은 고유한 스크립트 명령을 가지고 있다. 작은 프로그램 형태를갖고 있기도 한다.

## Interface-GUI
직관적이고, 퍈리함
User-friendly desktop interface   
- Usually mouse, keyboard, and monitor
- Icons represent files, programs, actions, etc
- Various mouse buttons over objects in the interface cause various actions
:(provide information, options, execute function, open directory known  as a folder)
- Invented at Xerox PARC(-> Mac, Windows, Xwindows, Gnome)  
Many systems now include both CLI and GUI interfaces
- Microsoft Windows is GUI with CLI “command“ shell
- Apple Mac OS X is “Aqua“ GUI interface with UNIX kernel underneath and  shells available
- Unix and Linux have CLI with optional GUI interfaces(CDE, KDE, CNOME)

## Touchscreen Interfaces
Touchscreen devices require new interface
- Mouse not possible or nor desired
- Actions and selection based on gestures
- Virtual keyboard for text entry

## Computer-System Operation (I/O)
- I/O devices and the CPU can execute concurrently.(버스 사용을 두고 경쟁관계)
- Each device controller is in charge of a particular device type.
- Each device controller has a local buffer.
- CPU moves data from/to main memory to/from local buffers
- Device controller informs CPU that it has finished its operation by causingan Interrupt.

## Common Functions of Interrupt
Common Functions of Interrupt
- Interrupt transfers control to the interrupt service routine generally,through the interrupt vector, which contains the addresses of all the service routines.
- Interrupt architecture must save the address of the interrupted instruction.실제로는 주소 뿐 아니라 데이터 등 모든 상황을 저장하고 있어야한다.(stack)
- 일반적으로 인터럽트가 처리되는 동안 다른 인터럽트는 들어오지 않는다.그러나 처리되게 하는 시스템도 있을 수 있다(우선순위로 구분).인터럽트 실행 중 새로 들어온 인터럽트는 대기 상태로 있다.(pending)
- 내부 소프트웨어에 의해 인위적으로 만들어진 interrupt를 trap이라고 한다.(divide by zero ...)
  
대부분의 OS는 Interrupt driven(인터럽트 구동방식)으로 동작, 모두 그런 것은 아니다.
Interrupt : 하드웨어적인 사건(clock, 디스크 쓰기 완료, 패킷 도착)
Trap : 소프트웨어적인 사건(페이지 부재 결함, divide by zero, 시스템 호출, accessviolation)
: 사용자가 운영체제 내부로 서비스를 받기 위해(시스템 콜) 안으로 들어가는 절차	
: 사용자 프로그램이 하기 어려운 일을 운영체제에게 부탁하기 위해 시스템 콜을 호출한다.
interrupt & trap
- interrupt : 하드웨어 적인 사건
- trap : 소프트웨어적인 사건

## Direct Memory Access Structure (DMA structure)
- Too much data transfer via CPU
- DMA 제어기는 메모리의 속도와 비슷한 속도로 정보를 전송할 수 있는 고속의 입출력장치를 위해 사용된다.
- 장치 제어기는 전체 자료블록을 CPU의 간섭 없이 직접 기억장치에서 버퍼 저장 장치로 블록 단위로 전송한다.
- byte(or word) 당 하나의 인터럽트를 발생시키는 것이 아니라 블록 단위로 인터럽트를발생시킨다. (word mode일 때는 cycle stealing이 일어난다)

